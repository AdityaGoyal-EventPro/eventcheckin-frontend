@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   EVENT CHECK-IN PRO â€” MOBILE-FIRST DESIGN
   ============================================ */

:root {
  /* Brand Colors */
  --brand: #4F46E5;
  --brand-light: #818CF8;
  --brand-dark: #3730A3;
  --brand-surface: #EEF2FF;

  /* Semantic */
  --success: #059669;
  --success-light: #D1FAE5;
  --warning: #D97706;
  --warning-light: #FEF3C7;
  --error: #DC2626;
  --error-light: #FEE2E2;

  /* Safe area insets */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
}

/* ============================================
   BASE
   ============================================ */

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-size: 16px;
  line-height: 1.5;
  color: #111827;
  background-color: #F9FAFB;
  overscroll-behavior-y: contain;
}

/* Prevent iOS zoom on input focus */
@media (max-width: 768px) {
  input, select, textarea {
    font-size: 16px !important;
  }
}

/* ============================================
   MOBILE-FIRST TOUCH TARGETS
   ============================================ */

@media (max-width: 768px) {
  button, a, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Padding for safe areas on notched phones */
  .safe-top { padding-top: var(--safe-top); }
  .safe-bottom { padding-bottom: var(--safe-bottom); }
}

/* ============================================
   ANIMATIONS
   ============================================ */

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideUpSheet {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes bounce-slow {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

@keyframes progress-4s {
  from { width: 0%; }
  to { width: 100%; }
}

@keyframes progress-5s {
  from { width: 0%; }
  to { width: 100%; }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes pulse-ring {
  0% { transform: scale(0.8); opacity: 1; }
  100% { transform: scale(2); opacity: 0; }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes countUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fadeIn { animation: fadeIn 0.2s ease-out; }
.animate-slideUp { animation: slideUp 0.3s ease-out; }
.animate-slideUpSheet { animation: slideUpSheet 0.35s cubic-bezier(0.32, 0.72, 0, 1); }
.animate-scaleIn { animation: scaleIn 0.25s ease-out; }
.animate-bounce-slow { animation: bounce-slow 2s ease-in-out infinite; }
.animate-progress-4s { animation: progress-4s 4s linear; }
.animate-progress-5s { animation: progress-5s 5s linear; }
.animate-spin { animation: spin 1s linear infinite; }
.animate-countUp { animation: countUp 0.4s ease-out; }

/* Shimmer loading skeleton */
.skeleton {
  background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: 8px;
}

/* ============================================
   BOTTOM SHEET (Mobile Modal Pattern)
   ============================================ */

@media (max-width: 640px) {
  .modal-sheet {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    max-height: 92vh;
    border-radius: 20px 20px 0 0;
    padding-bottom: var(--safe-bottom);
    animation: slideUpSheet 0.35s cubic-bezier(0.32, 0.72, 0, 1);
  }

  .modal-sheet::before {
    content: '';
    display: block;
    width: 36px;
    height: 4px;
    background: #D1D5DB;
    border-radius: 4px;
    margin: 8px auto 0;
  }
}

@media (min-width: 641px) {
  .modal-sheet {
    border-radius: 16px;
    max-width: 480px;
    width: 100%;
    animation: scaleIn 0.25s ease-out;
  }
}

/* ============================================
   FOCUS & ACCESSIBILITY
   ============================================ */

*:focus-visible {
  outline: 2px solid var(--brand);
  outline-offset: 2px;
}

/* Remove focus ring on tap for mobile */
@media (hover: none) {
  *:focus {
    outline: none;
  }
}

/* ============================================
   SCROLLBAR (thin on desktop, hidden on mobile)
   ============================================ */

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 3px;
}

@media (max-width: 768px) {
  ::-webkit-scrollbar {
    display: none;
  }

  * {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}

/* ============================================
   UTILITIES
   ============================================ */

.gradient-text {
  background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.glass {
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Card hover (desktop only) */
@media (hover: hover) {
  .card-hover {
    transition: all 0.2s ease;
  }
  .card-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 10px -5px rgba(0, 0, 0, 0.04);
  }
}

/* Card press (mobile) */
@media (hover: none) {
  .card-hover:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }
}

/* Hide on mobile / show on desktop */
.desktop-only { display: none; }
@media (min-width: 768px) {
  .desktop-only { display: block; }
  .mobile-only { display: none; }
}

/* Pull-down indicator */
.pull-indicator {
  width: 32px;
  height: 4px;
  background: #D1D5DB;
  border-radius: 2px;
  margin: 0 auto;
}
